<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        body{
            background: rgb(2,0,36);
            background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) 0%, rgba(0,212,255,1) 100%);
        }
        #erro{
            color: brown;
            font-size: 14px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row justify-content-center align-items-center vh-100">
            <div class="col-auto">
                <form class="p-4 p-md-5 border rounded-3 bg-light" action="#" th:action="@{/usuario/addUsuario}" th:object="${usuario}" method="post">
                    <div class="row justify-content-center align-items-center mb-3">
                        <div class="col-auto">
                            <h3>Cadastro de usuário</h3>
                        </div>
                    </div>
                    <div class="form-floating mb-3">
                        <input id="login" type="text" class="form-control" placeholder="Login" name="login">
                        <label for="inputLogin">Login</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input id="email" type="email" class="form-control" placeholder="Email" name="email">
                        <label for="inputEmail">Email</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input id="senha" type="password" class="form-control" placeholder="Senha" name="senha">
                        <label for="inputPassword">Senha</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input id="confsenha" type="password" class="form-control" placeholder="Confirmar senha" name="confsenha">
                        <label for="inputPassword">Confirmar senha</label>
                    </div>
                    <div class="form-floating mb-3">
                        <p id="erro"></p>
                    </div>
                    <button class="w-100 btn btn-lg btn-success mb-3" type="submit" onclick="verificarSenha">Cadastrar</button>
                    <a href="http://localhost:8080/" class="w-100 btn btn-lg btn-primary">Voltar</a>
                </form>
            </div>
        </div>
    </div>

    <script th:inline="javascript">
        window.onload = function verificacao(){
            var erro = /*[[${erro}]]*/ "erro";
            if(erro == "campo erro"){
                var login = /*[[${login}]]*/ "login";
                var email = /*[[${email}]]*/ "email";

                document.getElementById("erro").innerHTML = "Campos incompletos!";
                document.getElementById("login").value = login;
                document.getElementById("email").value = email;
            } else if(erro == "senha erro"){
                var login = /*[[${login}]]*/ "login";
                var email = /*[[${email}]]*/ "email";

                document.getElementById("erro").innerHTML = "Senhas incompatíveis!";
                document.getElementById("login").value = login;
                document.getElementById("email").value = email;

            } else if (erro == "login erro"){
                var email = /*[[${email}]]*/ "email";
                
                document.getElementById("erro").innerHTML = "Login indisponível!";
                document.getElementById("email").value = email;
            }
        }
    </script>
</body>
</html>